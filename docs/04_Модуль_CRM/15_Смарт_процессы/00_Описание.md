# Смарт-процессы

Смарт-процессы (СП) это механизм позволяющий хранить и обрабатывать связанную с CRM информацию.

> Одна из основных функций CRM - отслеживание, хранение и удобное отображение коммуникаций. При этом не всегда коммуникации - это продажи. Это могут быть какие-то внутренние процессы, обработка обращений в техподдержку, закупки и т.д. В этом случае есть потребность хранить и обрабатывать информацию и коммуникации не внутри лидов/сделок, а отдельно.
> Кроме того, часто в CRM хочется хранить много связанной информации, которая относится к продажам, но не является лидом/сделкой. Чтобы закрыть эту потребность в CRM с версии 20.700.0 появились смарт-процессы.

Для лучшего понимания темы определимся с терминологией:

- Смарт-процесс (СП, процесс) - универсальная или динамическая сущность, созданная с использованием механизма.
- Элемент смарт-процесса (элемент СП) - это один элемент конкретной динамической сущности.

## Арихтектура хранения

Концептуально смарт-процессы похожи на инфоблоки (универсальные списки), однако с точки зрения данных смарт-процессы похожи на rpa.
Механизм хранения значений пользовательских полей такой же, как в rpa и highloadblock.

С точки зрения базы данных, смарт-процесс состоит из:
- Записи в таблице b_crm_dynamic_type
- Таблицы хранения элементов `b_crm_dynamic_items_#ENTITY_TYPE_ID#``
- Таблицы поискового индекса `b_crm_dynamic_items_#ENTITY_TYPE_ID#_index`
- Таблицы `b_crm_dynamic_items_#ENTITY_TYPE_ID#_#UF_NAME#` под каждое множественное свойство
- Записей в `b_user_field` под каждое пользовательское поле


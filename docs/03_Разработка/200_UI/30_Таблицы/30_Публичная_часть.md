# Работа в публичной части

[TOC]

В отличии от фильтров, гриды представляют собой более сложную систему и классифицировать ее на несколько частей (как мы это делали в фильтрах) не представляется возможным. Охватить все возможные ситуации так же не представляется возможным, однако некоторые моменты все же стоит описать.

## Получение объекта грида

Поскольку на странице может быть несколько таблиц точкой входа в гриды является менеджер гридов (`BX.Main.gridManager`), который выполняет верхнеуровневую работу над самими гридами. При помощи менеджера можно получить текущие гриды, обновить грид или вовсе удалить.

Некоторые полезные методы:

1. Получить инстанс грида по его ID
```js
let grid = BX.Main.gridManager.getInstanceById('OUR_GRID_UNIQUE_ID');
```

2. Получить номер грида в списке (удобно для проверки существования):
```js
/**
 * @type int|null
 */
let gridNumber = BX.Main.gridManager.getInstanceById('OUR_GRID_UNIQUE_ID');
```

3. Получить все гриды на странице:
```js
/**
 * @type array
 */
let gridList = BX.Main.gridManager.data;
```

4. Обновить данные грида:
```js
BX.Main.gridManager.reload('OUR_GRID_UNIQUE_ID');
```
>Попытается получить инстанс грида (`getInstanceById`) и в случае успеха выполнит `reload` метод. 
>Принимает вторым параметром url на который будет выполнена отправка данных

В коде далее мы будем подразумевать что в переменной `grid` уже находится инстанс грида.


## Работа с гридом


### Строка добавления

В случае, когда грид доступен для редактирования существует возможность добавить строчку для `inline`-добавления записи.

Добавление редактируемой строки в начало списка:
```js
grid.prependRowEditor();
```

Добавление редактируемой строки в конец списка:
```js
grid.appendRowEditor();
```

>Для обеспечения такой возможности сам грид должен быть редактируемым и хотя бы один отображаемый столбец должен быть доступен для ввода, иначе это будет просто пустая строка 

### Вывести прелоадер

Иногда бывает полезным заблокировать работу грида выведя прелоадер.
Для управления прелоадером используются методы `tableFade` и `tableUnfade`:

```js
grid.tableFade();
```` 
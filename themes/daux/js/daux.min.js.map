{"version":3,"file":"daux.min.js.map","sources":["../../../src/js/theme_daux/utils.js","../../../src/js/theme_daux/code_toggle.js","../../../src/js/theme_daux/menu.js","../../../src/js/theme_daux/hamburger.js","../../../src/js/theme_daux/highlight.js","../../../src/js/theme_daux/dark_mode.js"],"sourcesContent":["/* eslint-disable @swissquote/swissquote/import/prefer-default-export */\n\nexport function ready(fn) {\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  } else {\n    fn();\n  }\n}\n\nexport function loadJS(url, callback) {\n  const head = document.getElementsByTagName(\"head\")[0],\n    script = document.createElement(\"script\");\n  script.type = \"text/javascript\";\n  script.async = true;\n  script.src = url;\n  script.onload = callback;\n  head.appendChild(script);\n}\n\nexport function loadCSS(url) {\n  const head = document.getElementsByTagName(\"head\")[0],\n    link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.href = url;\n  head.appendChild(link);\n}\n","import { ready } from \"./utils\";\n\nconst LOCAL_STORAGE_KEY = \"daux_code_blocks_hidden\";\n\nfunction setCodeBlockStyle(codeBlocks, hidden) {\n  for (let a = 0; a < codeBlocks.length; a++) {\n    codeBlocks[a].classList.toggle(\"CodeToggler--hidden\", hidden);\n  }\n  try {\n    localStorage.setItem(LOCAL_STORAGE_KEY, hidden);\n  } catch (e) {\n    // local storage operations can fail with the file:// protocol\n  }\n}\n\nfunction enableToggler(toggleCodeSection, codeBlocks) {\n  const toggleCodeBlockBtnSet = toggleCodeSection.querySelector(\n    \".CodeToggler__button--main\"\n  ); // available when floating is disabled\n\n  toggleCodeBlockBtnSet.addEventListener(\n    \"change\",\n    ev => {\n      setCodeBlockStyle(codeBlocks, !ev.target.checked);\n    },\n    false\n  );\n\n  let hidden = false;\n  try {\n    hidden = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n    if (hidden === \"false\") {\n      hidden = false;\n    } else if (hidden === \"true\") {\n      hidden = true;\n    }\n\n    if (hidden) {\n      setCodeBlockStyle(codeBlocks, true);\n      toggleCodeBlockBtnSet.checked = false;\n    }\n  } catch (e) {\n    // local storage operations can fail with the file:// protocol\n  }\n}\n\nready(() => {\n  const codeBlocks = document.querySelectorAll(\".s-content pre\");\n  const toggleCodeSection = document.querySelector(\".CodeToggler\");\n\n  if (!toggleCodeSection) {\n    return;\n  }\n\n  if (codeBlocks.length) {\n    enableToggler(toggleCodeSection, codeBlocks);\n  } else {\n    toggleCodeSection.classList.add(\"CodeToggler--hidden\");\n  }\n});\n","import { ready } from \"./utils\";\n\nfunction recalculateHeight() {\n  return new Promise((resolve, reject) => {\n    const collapsibleNode = document.querySelector(\".Collapsible__content\");\n\n    const realMenuNode = collapsibleNode.querySelector(\"ul\");\n    const linkNode = collapsibleNode.querySelector(\".Links\");\n\n    const height = realMenuNode.offsetHeight + linkNode.offsetHeight;\n    collapsibleNode.style.height = `calc(${height}px + 2em)`;\n  });\n}\nfunction resetMenuHeightTransitioned(item) {\n  const recalculateHeightDelaed = ev => {\n    recalculateHeight().then(() => {\n      ev.target.removeEventListener(\"transitionend\", recalculateHeightDelaed);\n    });\n  };\n\n  item.addEventListener(\"transitionend\", recalculateHeightDelaed);\n}\n\n/**\n * After the transition finishes set the height to auto so child\n * menus can expand properly.\n * @param {Element} item\n */\nfunction resetHeightAfterAnimation(item) {\n  const setHeightToAuto = ev => {\n    if (ev.target.style.height !== \"0px\") {\n      ev.target.style.height = \"auto\";\n    }\n\n    ev.target.removeEventListener(\"transitionend\", setHeightToAuto);\n  };\n\n  item.addEventListener(\"transitionend\", setHeightToAuto);\n}\n\nfunction findNavItem(start) {\n  let elem = start;\n  while ((elem = elem.parentNode) && elem.nodeType !== 9) {\n    if (elem.nodeType === 1 && elem.classList.contains(\"Nav__item\")) {\n      return elem;\n    }\n  }\n\n  throw new Error(\"Could not find a NavItem...\");\n}\n\nfunction toggleSubMenu(ev) {\n  const isEvent = ev.preventDefault !== undefined;\n\n  if (isEvent) {\n    ev.preventDefault();\n  }\n\n  const parent = findNavItem(ev.target);\n  const subNav = parent.querySelector(\"ul.Nav\");\n\n  if (isEvent && parent.classList.contains(\"Nav__item--open\")) {\n    // Temporarily set the height so the transition can work.\n    subNav.style.height = `${subNav.scrollHeight}px`;\n    subNav.style.transitionDuration = \"150ms\";\n    subNav.style.height = \"0px\";\n    parent.classList.remove(\"Nav__item--open\");\n    recalculateHeight();\n  } else {\n    if (isEvent) {\n      subNav.style.transitionDuration = \"150ms\";\n      resetHeightAfterAnimation(subNav);\n      resetMenuHeightTransitioned(subNav);\n      subNav.style.height = `${subNav.scrollHeight}px`;\n      parent.classList.add(\"Nav__item--open\");\n    } else {\n      // When running at page load the transitions don't need to fire and\n      // the classList doesn't need to be altered.\n      subNav.style.height = \"auto\";\n      recalculateHeight();\n    }\n  }\n}\n\nready(() => {\n  const navItems = document.querySelectorAll(\n    \".Nav__item.has-children i.Nav__arrow\"\n  );\n\n  // Go in reverse here because on page load the child nav items need to be\n  // opened first before their parents so the height on the parents can be\n  // calculated properly.\n  for (let i = navItems.length - 1, target; i >= 0; i--) {\n    target = navItems[i];\n    target.addEventListener(\"click\", toggleSubMenu);\n\n    if (target.parentNode.parentNode.classList.contains(\"Nav__item--open\")) {\n      toggleSubMenu({ target });\n    }\n  }\n\n  // Some navigations just have sub-pages without having a page by themselves\n  const ajNav = document.querySelectorAll(\".Nav__item__link--nopage\");\n  for (const navItem of ajNav) {\n    navItem.addEventListener(\"click\", toggleSubMenu);\n  }\n});\n","import { ready } from \"./utils\";\n\nready(() => {\n  const trigger = document.querySelector(\".Collapsible__trigger\");\n\n  if (trigger) {\n    const content = document.querySelector(\".Collapsible__content\");\n\n    trigger.addEventListener(\"click\", ev => {\n      if (content.classList.contains(\"Collapsible__content--open\")) {\n        content.style.height = 0;\n        content.classList.remove(\"Collapsible__content--open\");\n        trigger.setAttribute(\"aria-expanded\", \"false\");\n      } else {\n        trigger.setAttribute(\"aria-expanded\", \"true\");\n        content.style.transitionDuration = \"150ms\";\n        content.style.height = `${content.scrollHeight}px`;\n        content.classList.add(\"Collapsible__content--open\");\n      }\n    });\n  }\n});\n","import { ready, loadJS, loadCSS } from \"./utils\";\n\nready(() => {\n  const codeBlocks = document.querySelectorAll(\"pre > code:not(.hljs, .katex)\");\n  if (codeBlocks.length) {\n    loadJS(`${window.base_url}daux_libraries/highlight.pack.js`, () => {\n      [].forEach.call(codeBlocks, window.hljs.highlightBlock);\n    });\n  }\n});\n\nready(() => {\n  const codeBlocks = document.querySelectorAll(\"pre > code.katex\");\n  if (codeBlocks.length) {\n    loadCSS(`${window.base_url}daux_libraries/katex.min.css`);\n\n    loadJS(`${window.base_url}daux_libraries/katex.min.js`, () => {\n      [].forEach.call(codeBlocks, (/** @type {HTMLElement} */ e) => {\n        const content = e.innerHTML;\n        const p = document.createElement(\"p\");\n        const span = document.createElement(\"span\");\n        p.className = \"katex-display\";\n        p.appendChild(span);\n\n        const pre = e.parentElement;\n        pre.parentElement.insertBefore(p, pre);\n        pre.parentElement.removeChild(pre);\n\n        window.katex.render(content, span, {\n          throwOnError: false\n        });\n      });\n    });\n  }\n});\n\nready(() => {\n  const mermaidBlocks = document.querySelectorAll(\"div.mermaid\");\n  if (mermaidBlocks.length) {\n    loadJS(`${window.base_url}daux_libraries/mermaid.min.js`, () => {\n      window.mermaid.initialize({ startOnLoad: true });\n    });\n  }\n});\n","const COLOR_MODE_KEY = \"daux-color-mode\";\nconst VALUE_DARK = \"dark\";\nconst VALUE_LIGHT = \"light\";\nconst CLASS_DARK = \"dark\";\nconst BUTTON = \".ColorMode__button\";\n\nfunction getInitialColorMode() {\n  const persistedColorPreference = window.localStorage.getItem(COLOR_MODE_KEY);\n  const hasPersistedPreference = typeof persistedColorPreference === \"string\";\n\n  // If the user has explicitly chosen light or dark,\n  // let's use it. Otherwise, this value will be null.\n  if (hasPersistedPreference) {\n    return persistedColorPreference;\n  }\n\n  // If they haven't been explicit, let's check the media\n  // query\n  const mql = window.matchMedia(\"(prefers-color-scheme: dark)\");\n  const hasMediaQueryPreference = typeof mql.matches === \"boolean\";\n  if (hasMediaQueryPreference) {\n    return mql.matches ? VALUE_DARK : VALUE_LIGHT;\n  }\n\n  // If they are using a browser/OS that doesn't support\n  // color themes, let's default to 'light'.\n  return VALUE_LIGHT;\n}\n\nconst colorMode = getInitialColorMode();\n\n// Set the current theme\ndocument.body.classList.toggle(CLASS_DARK, colorMode === VALUE_DARK);\n\nconst toggleCodeBlockBtnSet = document.body.querySelector(BUTTON);\n\nif (toggleCodeBlockBtnSet) {\n  // Reflect the current theme on the checkbox\n  toggleCodeBlockBtnSet.checked = colorMode === VALUE_DARK;\n\n  toggleCodeBlockBtnSet.addEventListener(\n    \"change\",\n    ev => {\n      const checked = ev.target.checked;\n\n      document.body.classList.toggle(CLASS_DARK, checked);\n\n      window.localStorage.setItem(\n        COLOR_MODE_KEY,\n        checked ? VALUE_DARK : VALUE_LIGHT\n      );\n    },\n    false\n  );\n}\n"],"names":["ready","fn","document","readyState","addEventListener","loadJS","url","callback","head","getElementsByTagName","script","createElement","type","async","src","onload","appendChild","loadCSS","link","rel","href","LOCAL_STORAGE_KEY","setCodeBlockStyle","codeBlocks","hidden","a","length","classList","toggle","localStorage","setItem","e","enableToggler","toggleCodeSection","toggleCodeBlockBtnSet","querySelector","ev","target","checked","getItem","recalculateHeight","Promise","resolve","reject","collapsibleNode","realMenuNode","linkNode","height","offsetHeight","style","concat","resetMenuHeightTransitioned","item","recalculateHeightDelaed","then","removeEventListener","resetHeightAfterAnimation","setHeightToAuto","findNavItem","start","elem","parentNode","nodeType","contains","Error","toggleSubMenu","isEvent","undefined","preventDefault","parent","subNav","scrollHeight","transitionDuration","remove","add","querySelectorAll","trigger","content","setAttribute","window","base_url","forEach","call","hljs","highlightBlock","innerHTML","p","span","className","pre","parentElement","insertBefore","removeChild","katex","render","throwOnError","mermaidBlocks","mermaid","initialize","startOnLoad","navItems","i","ajNav","_step","_iterator","_createForOfIteratorHelper","s","n","done","navItem","value","err","f","COLOR_MODE_KEY","VALUE_DARK","VALUE_LIGHT","CLASS_DARK","BUTTON","getInitialColorMode","persistedColorPreference","hasPersistedPreference","mql","matchMedia","hasMediaQueryPreference","matches","colorMode","body"],"mappings":"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"}